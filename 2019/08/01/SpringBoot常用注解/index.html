<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="孙远博, sybapp@qq.com"><title>SpringBoot常用注解 · 不将就 | 一个计算机小白的博客</title><meta name="description" content="一、注解(annotations)列表@SpringBootApplication：
包含了@ComponentScan、@Configuration和@EnableAutoConfiguration注解。其中@ComponentScan让spring Boot扫描到Configuration类并把"><meta name="keywords" content="Hexo, HTML, CSS, Android, Linux, WEB"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title><a href="/">不将就 | 一个计算机小白的博客</a></h3><div class="description"><p>一个计算机小白的博客 C / Python / Android / Linux / WEB</p></div></div></div><ul class="social-links"><li><a href="http://weibo.com/ansgsy"><i class="fa fa-weibo"></i></a></li><li><a href="http://github.com/sybapp"><i class="fa fa-github"></i></a></li></ul><div class="footer"><div class="by_farbox"><a href="https://sybapp.tk/" target="_blank">&#169 2018 不将就 All rights reserved. &#160;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>SpringBoot常用注解</a></h3></div><div class="post-content"><h2 id="一、注解-annotations-列表"><a href="#一、注解-annotations-列表" class="headerlink" title="一、注解(annotations)列表"></a><strong>一、注解(annotations)列表</strong></h2><p><code>@SpringBootApplication</code>：</p>
<p>包含了@ComponentScan、@Configuration和@EnableAutoConfiguration注解。其中@ComponentScan让spring Boot扫描到Configuration类并把它加入到程序上下文。</p>
<p><code>@Configuration</code> 等同于spring的XML配置文件；使用Java代码可以检查类型安全。</p>
<p><code>@EnableAutoConfiguration</code> 自动配置。</p>
<p><code>@ComponentScan</code> 组件扫描，可自动发现和装配一些Bean。</p>
<p><code>@Component</code>可配合CommandLineRunner使用，在程序启动后执行一些基础任务。</p>
<p><code>@RestController</code>注解是<code>@Controller</code>和<code>@ResponseBody</code>的合集,表示这是个控制器bean,并且是将函数的返回值直 接填入HTTP响应体中,是REST风格的控制器。</p>
<p><code>@Autowired</code>自动导入。</p>
<p><code>@PathVariable</code>获取参数。</p>
<p><code>@JsonBackReference</code>解决嵌套外链问题。</p>
<p><code>@RepositoryRestResourcepublic</code>配合spring-boot-starter-data-rest使用。</p>
<h2 id="二、注解-annotations-详解"><a href="#二、注解-annotations-详解" class="headerlink" title="二、注解(annotations)详解"></a><strong>二、注解(annotations)详解</strong></h2><p><code>@SpringBootApplication</code>：申明让spring boot自动给程序进行必要的配置，这个配置等同于：<code>@Configuration</code> ，<code>@EnableAutoConfiguration</code> 和 <code>@ComponentScan</code> 三个配置。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myproject; </span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication; </span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span> <span class="comment">// same as @Configuration @EnableAutoConfiguration @ComponentScan </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123; </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123; </span><br><span class="line">SpringApplication.run(Application.class, args); </span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@ResponseBody</code>：表示该方法的返回结果直接写入HTTP response body中，一般在异步获取数据时使用，用于构建RESTful的api。在使用@RequestMapping后，返回值通常解析为跳转路径，加上@responsebody后返回结果不会被解析为跳转路径，而是直接写入HTTP response body中。比如异步获取json数据，加上<code>@responsebody</code>后，会直接返回json数据。该注解一般会配合@RequestMapping一起使用。示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(“/test”) </span><br><span class="line"><span class="meta">@ResponseBody</span> </span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span></span>&#123; </span><br><span class="line"><span class="keyword">return</span>”ok”; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@Controller</code>：用于定义控制器类，在spring 项目中由控制器负责将用户发来的URL请求转发到对应的服务接口（service层），一般这个注解在类中，通常方法需要配合注解@RequestMapping。示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span> </span><br><span class="line"><span class="meta">@RequestMapping</span>(“/demoInfo”) </span><br><span class="line">publicclass DemoController &#123; </span><br><span class="line"><span class="meta">@Autowired</span> </span><br><span class="line"><span class="keyword">private</span> DemoInfoService demoInfoService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(Map&lt;String,Object&gt; map)</span></span>&#123;</span><br><span class="line">   System.out.println(<span class="string">"DemoController.hello()"</span>);</span><br><span class="line">   map.put(<span class="string">"hello"</span>,<span class="string">"from TemplateController.helloHtml"</span>);</span><br><span class="line">   <span class="comment">//会使用hello.html或者hello.ftl模板进行渲染显示.</span></span><br><span class="line">   <span class="keyword">return</span><span class="string">"/hello"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@RestController</code>：用于标注控制层组件(如struts中的action)，<code>@ResponseBody</code>和<code>@Controller</code>的合集。示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kfit.demo.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping; </span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span> </span><br><span class="line"><span class="meta">@RequestMapping</span>(“/demoInfo2”) </span><br><span class="line">publicclass DemoController2 &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">return</span><span class="string">"ok"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@RequestMapping</code>：提供路由信息，负责URL到Controller中的具体函数的映射。</p>
<p><code>@EnableAutoConfiguration</code>：Spring Boot自动配置（auto-configuration）：尝试根据你添加的jar依赖自动配置你的Spring应用。例如，如果你的classpath下存在HSQLDB，并且你没有手动配置任何数据库连接beans，那么我们将自动配置一个内存型（in-memory）数据库”。</p>
<p>你可以将<code>@EnableAutoConfiguration</code>或者<code>@SpringBootApplication</code>注解添加到一个<code>@Configuration</code>类上来选择自动配置。如果发现应用了你不想要的特定自动配置类，你可以使用<code>@EnableAutoConfiguration</code>注解的排除属性来禁用它们。</p>
<p><code>@ComponentScan</code>：表示将该类自动发现扫描组件。个人理解相当于，如果扫描到有<code>@Component</code>、<code>@Controller</code>、<code>@Service</code>等这些注解的类，并注册为Bean，可以自动收集所有的Spring组件，包括@Configuration类。我们经常使用<code>@ComponentScan</code>注解搜索beans，并结合<code>@Autowired</code>注解导入。可以自动收集所有的Spring组件，包括<code>@Configuration</code>类。</p>
<p>我们经常使用<code>@ComponentScan</code>注解搜索beans，并结合<code>@Autowired</code>注解导入。如果没有配置的话，Spring Boot会扫描启动类所在包下以及子包下的使用了<code>@Service</code>,<code>@Repository</code>等注解的类。</p>
<p><code>@Configuration</code>：相当于传统的xml配置文件，如果有些第三方库需要用到xml文件，建议仍然通过<code>@Configuration</code>类作为项目的配置主类——可以使用@ImportResource注解加载xml配置文件。</p>
<p><code>@Import</code>：用来导入其他配置类。</p>
<p><code>@ImportResource</code>：用来加载xml配置文件。</p>
<p><code>@Autowired</code>：自动导入依赖的bean</p>
<p><code>@Service</code>：一般用于修饰service层的组件</p>
<p><code>@Repository</code>：使用@Repository注解可以确保DAO或者repositories提供异常转译，这个注解修饰的DAO或者repositories类会被ComponetScan发现并配置，同时也不需要为它们提供XML配置项。</p>
<p><code>@Bean</code>：用@Bean标注方法等价于XML中配置的bean。</p>
<p><code>@Value</code>：注入Spring boot application.properties配置的属性的值。示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Value(value = “#&#123;message&#125;”) </span><br><span class="line"><span class="keyword">private</span> String message;</span><br></pre></td></tr></table></figure>
<p><code>@Inject</code>：等价于默认的<code>@Autowired</code>，只是没有required属性；</p>
<p><code>@Component</code>：泛指组件，当组件不好归类的时候，我们可以使用这个注解进行标注。</p>
<p><code>@Bean</code>:相当于XML中的,放在方法的上面，而不是类，意思是产生一个bean,并交给spring管理。</p>
<p><code>@AutoWired</code>：自动导入依赖的bean。byType方式。把配置好的Bean拿来用，完成属性、方法的组装，它可以对类成员变量、方法及构造函数进行标注，完成自动装配的工作。当加上（required=false）时，就算找不到bean也不报错。</p>
<p><code>@Qualifier</code>：当有多个同一类型的Bean时，可以用@Qualifier(“name”)来指定。与<code>@Autowired</code>配合使用。<code>@Qualifier</code>限定描述符除了能根据名字进行注入，但能进行更细粒度的控制如何选择候选者，具体使用方式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span> </span><br><span class="line"><span class="meta">@Qualifier</span>(value = “demoInfoService”) </span><br><span class="line"><span class="keyword">private</span> DemoInfoService demoInfoService;</span><br></pre></td></tr></table></figure>
<p>@<code>Resource(name=”name”,type=”type”)</code>：没有括号内内容的话，默认byName。与<code>@Autowired</code>干类似的事。</p>
<h2 id="三、JPA注解"><a href="#三、JPA注解" class="headerlink" title="三、JPA注解"></a><strong>三、JPA注解</strong></h2><p><code>@Entity</code>：<code>@Table(name=”“)</code>：表明这是一个实体类。一般用于jpa这两个注解一般一块使用，但是如果表名和实体类名相同的话，@Table可以省略</p>
<p><code>@MappedSuperClass</code>:用在确定是父类的entity上。父类的属性子类可以继承。</p>
<p><code>@NoRepositoryBean</code>:一般用作父类的repository，有这个注解，spring不会去实例化该repository。</p>
<p><code>@Column</code>：如果字段名与列名相同，则可以省略。</p>
<p><code>@Id</code>：表示该属性为主键。</p>
<p><code>@GeneratedValue(strategy = GenerationType.SEQUENCE,generator = “repair_seq”)</code>：表示主键生成策略是sequence（可以为Auto、IDENTITY、native等，Auto表示可在多个数据库间切换），指定sequence的名字是repair_seq。</p>
<p><code>@SequenceGeneretor(name = “repair_seq”, sequenceName = “seq_repair”, allocationSize = 1)</code>：name为sequence的名称，以便使用，sequenceName为数据库的sequence名称，两个名称可以一致。</p>
<p>@Transient：表示该属性并非一个到数据库表的字段的映射,ORM框架将忽略该属性。如果一个属性并非数据库表的字段映射,就务必将其标示为@Transient,否则,ORM框架默认其注解为<code>@Basic</code>。<code>@Basic(fetch=FetchType.LAZY)</code>：标记可以指定实体属性的加载方式</p>
<p><code>@JsonIgnore</code>：作用是json序列化时将Java bean中的一些属性忽略掉,序列化和反序列化都受影响。</p>
<p><code>@JoinColumn（name=”loginId”）</code>:一对一：本表中指向另一个表的外键。一对多：另一个表指向本表的外键。</p>
<p><code>@OneToOne</code>、<code>@OneToMany</code>、<code>@ManyToOne</code>：对应hibernate配置文件中的一对一，一对多，多对一。</p>
<h2 id="四、springMVC相关注解"><a href="#四、springMVC相关注解" class="headerlink" title="四、springMVC相关注解"></a><strong>四、springMVC相关注解</strong></h2><p><code>@RequestMapping</code>：<code>@RequestMapping(“/path”)</code>表示该控制器处理所有“/path”的UR L请求。RequestMapping是一个用来处理请求地址映射的注解，可用于类或方法上。</p>
<p>用于类上，表示类中的所有响应请求的方法都是以该地址作为父路径。</p>
<p><strong>该注解有六个属性：</strong></p>
<ol>
<li>params:指定request中必须包含某些参数值是，才让该方法处理。</li>
<li>headers:指定request中必须包含某些指定的header值，才能让该方法处理请求。</li>
<li>value:指定请求的实际地址，指定的地址可以是URI Template 模式</li>
<li>method:指定请求的method类型， GET、POST、PUT、DELETE等</li>
<li>consumes:指定处理请求的提交内容类型（Content-Type），如application/json,text/html;</li>
<li>produces:指定返回的内容类型，仅当request请求头中的(Accept)类型中包含该指定类型才返回</li>
</ol>
<p><code>@RequestParam</code>：用在方法的参数前面。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestParam</span> </span><br><span class="line">String a =request.getParameter(“a”)。</span><br></pre></td></tr></table></figure>
<p><code>@PathVariable</code>:路径变量。如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">RequestMapping(“user/get/mac/&#123;macAddress&#125;”) </span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getByMacAddress</span><span class="params">(@PathVariable String macAddress)</span></span>&#123; </span><br><span class="line"><span class="comment">//do something; </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参数与大括号里的名字一样要相同。</p>
<h2 id="五、全局异常处理"><a href="#五、全局异常处理" class="headerlink" title="五、全局异常处理"></a><strong>五、全局异常处理</strong></h2><p><code>@ControllerAdvice</code>：包含@Component。可以被扫描到。统一处理异常。</p>
<p><code>@ExceptionHandler（Exception.class）</code>：用在方法上面表示遇到这个异常就执行以下方法。</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2019-08-01</span><i class="fa fa-tag"></i><a class="tag" href="/tags/SpringBoot/" title="SpringBoot">SpringBoot </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,https://sybapp.tk/2019/08/01/SpringBoot常用注解/,不将就 | 一个计算机小白的博客,SpringBoot常用注解,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a class="btn" role="navigation" href="/2019/08/01/Luckymoney-初个SpringBoot项目/" title="Luckymoney--初个SpringBoot项目">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>